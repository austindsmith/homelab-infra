---
apiVersion: v1
kind: Pod
metadata:
  name: test-media-auth
  namespace: apps
spec:
  containers:
  - name: test
    image: alpine:latest
    command: ["/bin/sh"]
    args: ["-c", "apk add --no-cache cifs-utils && echo 'Testing media access with credentials...' && mkdir -p /mnt/media && mount -t cifs //192.168.1.131/media /mnt/media -o username=k8s,password='Crawling8-Impending9-Stiffness2-Unsold0-Passing7',uid=1000,gid=1000 && ls -la /mnt/media && echo 'SUCCESS: Media mounted!' && sleep 3600"]
    securityContext:
      privileged: true
  restartPolicy: Never
